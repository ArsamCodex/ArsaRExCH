@page "/AddMoneyBank"
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager NavigationManager
@using System.Security.Claims
@inject AuthenticationStateProvider _AuthenticationStateProvider
@inject HttpClient Http
@attribute [Authorize]
@rendermode InteractiveAuto

<h3>Here connect to BANK or 3rd party app API</h3>
<h4>Deposit</h4>
<EditForm Model="@model" OnValidSubmit="HandleSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="Amount">Amount:</label>
        <InputNumber @bind-Value="model.Amount" class="form-control" id="Amount" />
    </div>

    <div class="form-group">
        <label for="Provider">Provider:</label>
        <select @bind="selectedProvider" class="form-control" id="Provider">
            @foreach (var provider in Provider)
            {
                <option value="@provider">@provider</option>
            }
        </select>
    </div>

    <button type="submit" class="btn bt-primary">Submit</button>
</EditForm>
<span>Selectec Provider  @selectedProvider</span>
<p>@model.Amount</p>
@UserMassage



@code {
    public string? UserMassage { get; set; }
    private dtoTest model = new dtoTest();
    private string selectedProvider;
    public List<string> Provider { get; set; } = new List<string> { "XBank", "YBank" };

    public class dtoTest
    {
        public int Amount { get; set; }
    }

    private async Task HandleSubmit()
    {
        UserMassage = "Not Implemented Yet";
    }

   
}
